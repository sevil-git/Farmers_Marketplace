{"ast":null,"code":"var _jsxFileName = \"F:\\\\Farmers_Marketplace1\\\\src\\\\components\\\\QtLogin\\\\QtLogin.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nclass QtLogin extends Component {\n  constructor(props) {\n    super(props);\n    this.handleFormChange = event => {\n      let loginParamsNew = {\n        ...this.state.loginParams\n      };\n      let val = event.target.value;\n      loginParamsNew[event.target.name] = val;\n      this.setState({\n        loginParams: loginParamsNew\n      });\n    };\n    this.login = () => {\n      let user_id = this.state.loginParams.user_id;\n      let user_password = this.state.loginParams.user_password;\n\n      // Store session token and user ID\n      localStorage.setItem(\"qtoken\", \"T\");\n      localStorage.setItem(\"qsession\", user_id);\n      console.log(localStorage.getItem(\"qtoken\"));\n      console.log(localStorage.getItem(\"qsession\"));\n      this.setState({\n        islogged: true\n      });\n    };\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        user_id,\n        user_password\n      } = this.state.loginParams;\n      const matchedQtUser = this.props.qtestings.find(qtesting => qtesting.name === user_id && qtesting.city === user_password);\n      if (matchedQtUser) {\n        this.login();\n      } else {\n        this.setState({\n          errorMsg: \"Invalid name or city\"\n        });\n      }\n    };\n    this.state = {\n      islogged: false,\n      loginParams: {\n        user_id: \"\",\n        user_password: \"\"\n      },\n      errorMsg: \"\"\n    };\n  }\n  render() {\n    if (localStorage.getItem(\"qtoken\")) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/QTesting\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 14\n        }\n      });\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"form-signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"h3 mb-3 font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, \"Please sign in\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"FarmerID\",\n      name: \"user_id\",\n      type: \"text\",\n      ref: input => {\n        this.FarmerID = input;\n      },\n      onChange: this.handleFormChange,\n      className: \"form-control\",\n      placeholder: \"name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"FarmerID\",\n      name: \"user_password\",\n      type: \"password\",\n      ref: input => {\n        this.PhoneNo = input;\n      },\n      onChange: this.handleFormChange,\n      className: \"form-control\",\n      placeholder: \"city\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 15\n      }\n    }, \"Login\"))), this.state.errorMsg && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }, this.state.errorMsg)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, \"Don't have Account..? \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/QtRegister\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 34\n      }\n    }, \"Click here\")));\n  }\n}\nexport default QtLogin;","map":{"version":3,"names":["React","Component","Redirect","QtLogin","constructor","props","handleFormChange","event","loginParamsNew","state","loginParams","val","target","value","name","setState","login","user_id","user_password","localStorage","setItem","console","log","getItem","islogged","handleSubmit","preventDefault","matchedQtUser","qtestings","find","qtesting","city","errorMsg","render","createElement","to","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","id","type","ref","input","FarmerID","onChange","placeholder","required","PhoneNo","href"],"sources":["F:/Farmers_Marketplace1/src/components/QtLogin/QtLogin.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass QtLogin extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      islogged: false,\r\n      loginParams: {\r\n        user_id: \"\",\r\n        user_password: \"\"\r\n      },\r\n      errorMsg: \"\"\r\n    };\r\n  }\r\n\r\n  handleFormChange = event => {\r\n    let loginParamsNew = { ...this.state.loginParams };\r\n    let val = event.target.value;\r\n    loginParamsNew[event.target.name] = val;\r\n    this.setState({\r\n      loginParams: loginParamsNew\r\n    });\r\n  };\r\n\r\n  login = () => {\r\n    let user_id = this.state.loginParams.user_id;\r\n    let user_password = this.state.loginParams.user_password;\r\n\r\n    // Store session token and user ID\r\n    localStorage.setItem(\"qtoken\", \"T\");\r\n    localStorage.setItem(\"qsession\", user_id);\r\n\r\n    console.log(localStorage.getItem(\"qtoken\"));\r\n    console.log(localStorage.getItem(\"qsession\"));\r\n\r\n    this.setState({\r\n      islogged: true\r\n    });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    \r\n    const { user_id, user_password } = this.state.loginParams;\r\n    const matchedQtUser = this.props.qtestings.find(\r\n      (qtesting) => qtesting.name === user_id && qtesting.city === user_password\r\n    );\r\n\r\n    if (matchedQtUser) {\r\n      this.login();\r\n    } else {\r\n      this.setState({ errorMsg: \"Invalid name or city\" });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (localStorage.getItem(\"qtoken\")) {\r\n      return <Redirect to=\"/QTesting\" />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"container\">\r\n        <form onSubmit={this.handleSubmit} className=\"form-signin\">\r\n          <h1 className=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <div className=\"form-group mr-sm-2\">\r\n                <input\r\n                  id=\"FarmerID\"\r\n                  name=\"user_id\"\r\n                  type=\"text\"\r\n                  ref={(input) => { this.FarmerID = input }}\r\n                  onChange={this.handleFormChange}\r\n                  className=\"form-control\"\r\n                  placeholder=\"name\"\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group mr-sm-2\">\r\n                <input\r\n                  id=\"FarmerID\"\r\n                  name=\"user_password\"\r\n                  type=\"password\"\r\n                  ref={(input) => { this.PhoneNo = input }}\r\n                  onChange={this.handleFormChange}\r\n                  className=\"form-control\"\r\n                  placeholder=\"city\"\r\n                  required\r\n                />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\">Login</button>\r\n            </div>\r\n          </div>\r\n\r\n          {this.state.errorMsg && (\r\n            <div className=\"alert alert-danger mt-2\">{this.state.errorMsg}</div>\r\n          )}\r\n        </form>\r\n\r\n        <p>Don't have Account..? <a href=\"/QtRegister\">Click here</a></p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QtLogin;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}