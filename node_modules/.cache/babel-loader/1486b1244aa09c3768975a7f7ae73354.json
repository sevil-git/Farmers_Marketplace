{"ast":null,"code":"var _jsxFileName = \"F:\\\\Farmers_Marketplace1\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React, { Component } from \"react\";\nimport \"./Login.css\";\nimport { Redirect } from \"react-router-dom\";\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.handleFormChange = event => {\n      let loginParamsNew = {\n        ...this.state.loginParams\n      };\n      let val = event.target.value;\n      loginParamsNew[event.target.name] = val;\n      this.setState({\n        loginParams: loginParamsNew\n      });\n    };\n    this.login = user_id => {\n      localStorage.setItem(\"token\", \"T\");\n      localStorage.setItem(\"session\", user_id);\n      this.setState({\n        islogged: true\n      });\n    };\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const {\n        user_id,\n        user_password\n      } = this.state.loginParams;\n      console.log(\"Entered ID:\", user_id);\n      console.log(\"Entered Phone:\", user_password);\n\n      // Find the farmer with matching credentials\n      const farmer = this.props.farmers.find(farmer => {\n        console.log(\"Farmer ID:\", farmer.name);\n        console.log(\"Farmer Phone:\", farmer.phone);\n        return farmer.name === user_id && farmer.phone.toString() === user_password;\n      });\n      if (farmer) {\n        this.login(farmer.id);\n      } else {\n        this.setState({\n          errorMessage: \"Invalid ID or Phone Number\"\n        });\n      }\n    };\n    this.state = {\n      islogged: false,\n      loginParams: {\n        user_id: \"\",\n        user_password: \"\"\n      },\n      errorMessage: \"\"\n    };\n  }\n  render() {\n    if (localStorage.getItem(\"token\")) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/Farmer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 14\n        }\n      });\n    }\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container bg-gree\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"form-signin flex flex-row \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"h4 mb-3 text-3xl font-weight-normal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }\n    }, \"Please sign in\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"FarmerID\",\n      name: \"user_id\",\n      type: \"text\",\n      ref: input => {\n        this.FarmerID = input;\n      },\n      onChange: this.handleFormChange,\n      className: \"form-control\",\n      placeholder: \"Farmer ID\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group mr-sm-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"PhoneNo\",\n      name: \"user_password\",\n      type: \"password\",\n      ref: input => {\n        this.PhoneNo = input;\n      },\n      onChange: this.handleFormChange,\n      className: \"form-control\",\n      placeholder: \"Phone Number\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, \"Login\"))), this.state.errorMessage && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }, this.state.errorMessage)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }\n    }, \"Don't have an Account..? \", /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/Register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 37\n      }\n    }, \"Click here\")));\n  }\n}\nexport default Login;","map":{"version":3,"names":["React","Component","Redirect","Login","constructor","props","handleFormChange","event","loginParamsNew","state","loginParams","val","target","value","name","setState","login","user_id","localStorage","setItem","islogged","handleSubmit","preventDefault","user_password","console","log","farmer","farmers","find","phone","toString","id","errorMessage","render","getItem","createElement","to","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","type","ref","input","FarmerID","onChange","placeholder","required","PhoneNo","role","href"],"sources":["F:/Farmers_Marketplace1/src/components/Login/Login.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./Login.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      islogged: false,\r\n      loginParams: {\r\n        user_id: \"\",\r\n        user_password: \"\"\r\n      },\r\n      errorMessage: \"\"\r\n    };\r\n  }\r\n\r\n  handleFormChange = event => {\r\n    let loginParamsNew = { ...this.state.loginParams };\r\n    let val = event.target.value;\r\n    loginParamsNew[event.target.name] = val;\r\n    this.setState({\r\n      loginParams: loginParamsNew\r\n    });\r\n  };\r\n\r\n  login = (user_id) => {\r\n    localStorage.setItem(\"token\", \"T\");\r\n    localStorage.setItem(\"session\", user_id);\r\n    this.setState({\r\n      islogged: true\r\n    });\r\n  };\r\n\r\n  handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    const { user_id, user_password } = this.state.loginParams;\r\n  \r\n    console.log(\"Entered ID:\", user_id);\r\n    console.log(\"Entered Phone:\", user_password);\r\n  \r\n    // Find the farmer with matching credentials\r\n    const farmer = this.props.farmers.find(farmer => {\r\n      console.log(\"Farmer ID:\", farmer.name);\r\n      console.log(\"Farmer Phone:\", farmer.phone);\r\n      return farmer.name === user_id && farmer.phone.toString() === user_password;\r\n    });\r\n  \r\n    if (farmer) {\r\n      this.login(farmer.id);\r\n    } else {\r\n      this.setState({ errorMessage: \"Invalid ID or Phone Number\" });\r\n    }\r\n  };\r\n  \r\n\r\n  render() {\r\n    if (localStorage.getItem(\"token\")) {\r\n      return <Redirect to=\"/Farmer\" />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"container bg-gree\">\r\n        <form onSubmit={this.handleSubmit} className=\"form-signin flex flex-row \">\r\n          <h1 className=\"h4 mb-3 text-3xl font-weight-normal\">Please sign in</h1>\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <div className=\"form-group mr-sm-2\">\r\n                <input\r\n                  id=\"FarmerID\"\r\n                  name=\"user_id\"\r\n                  type=\"text\"\r\n                  ref={(input) => { this.FarmerID = input }}\r\n                  onChange={this.handleFormChange}\r\n                  className=\"form-control\"\r\n                  placeholder=\"Farmer ID\"\r\n                  required />\r\n              </div>\r\n              <div className=\"form-group mr-sm-2\">\r\n                <input\r\n                  id=\"PhoneNo\"\r\n                  name=\"user_password\"\r\n                  type=\"password\"\r\n                  ref={(input) => { this.PhoneNo = input }}\r\n                  onChange={this.handleFormChange}\r\n                  className=\"form-control\"\r\n                  placeholder=\"Phone Number\"\r\n                  required />\r\n              </div>\r\n              <button type=\"submit\" className=\"btn btn-primary\">Login</button>\r\n            </div>\r\n          </div>\r\n          {this.state.errorMessage && \r\n            <div className=\"alert alert-danger\" role=\"alert\">\r\n              {this.state.errorMessage}\r\n            </div>\r\n          }\r\n        </form>\r\n        <p>Don't have an Account..? <a href=\"/Register\">Click here</a></p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}